.. _put-update-domain-v1.0-account-domains-domainid:

Update domain
~~~~~~~~~~~~~

.. code::

    PUT /v1.0/{account}/domains/{domainId}

Updates the configuration of a domain.

.. note::
   This call returns an asynchronous response. Refer to
   :ref:`Synchronous and asynchronous responses<cdns-dg-synch-asynch>`
   for more details and examples of the way that asynchronous responses work.



This call modifies DNS domain(s) attributes only. records cannot be added,
modified, or Deleted. Only the TTL, email address and comment attributes of a
domain can be modified.

If a request cannot be fulfilled due to insufficient or invalid data, an ``HTTP
400 (Bad Request)`` error response will be returned with information regarding
the nature of the failure in the body of the response. Failures in the
validation process are non-recoverable and require the caller to correct the
cause of the failure and POST the request again.

.. note::


   *  Refer to the section "DNS Propagation" in the Devguide for information
      about DNS propagation.
   *  A domain's ``id`` is immutable.
   *  When the domain or record TTL is supplied by the user, either via a
      create or update call, the TTL values must be 300 seconds or more.
   *  ``name`` cannot be specified, because the domain name cannot be modified.


This table shows the possible response codes for this operation:


+--------------------------+-------------------------+-------------------------+
|Response Code             |Name                     |Description              |
+==========================+=========================+=========================+
|202                       |Accepted                 |Request is accepted.     |
+--------------------------+-------------------------+-------------------------+
|400                       |Bad Request              |The request is missing   |
|                          |                         |one or more elements, or |
|                          |                         |the values of some       |
|                          |                         |elements are invalid.    |
+--------------------------+-------------------------+-------------------------+
|400 500                   |dnsFault                 |The DNS service has      |
|                          |                         |experienced a fault.     |
+--------------------------+-------------------------+-------------------------+
|401                       |Unauthorized             |You are not authorized   |
|                          |                         |to complete this         |
|                          |                         |operation. This error    |
|                          |                         |can occur if the request |
|                          |                         |is submitted with an     |
|                          |                         |invalid authentication   |
|                          |                         |token.                   |
+--------------------------+-------------------------+-------------------------+
|404                       |Not Found                |The requested item was   |
|                          |                         |not found.               |
+--------------------------+-------------------------+-------------------------+
|413                       |Over Limit               |The number of items      |
|                          |                         |returned is above the    |
|                          |                         |allowed limit.           |
+--------------------------+-------------------------+-------------------------+
|503                       |Service Unavailable      |The service is not       |
|                          |                         |available.               |
+--------------------------+-------------------------+-------------------------+


Request
-------


This table shows the header parameters for the request:

+--------------------------+-------------------------+-------------------------+
|Name                      |Type                     |Description              |
+==========================+=========================+=========================+
|X-Auth-Token              |String                   |Arbitrary character      |
|                          |                         |string generated by the  |
|                          |                         |authentication service   |
|                          |                         |in response to valid     |
|                          |                         |credentials.             |
+--------------------------+-------------------------+-------------------------+

This table shows the URI parameters for the request:

+--------------------------+-------------------------+-------------------------+
|Name                      |Type                     |Description              |
+==========================+=========================+=========================+
|{account}                 |String                   |The tenant ID.           |
+--------------------------+-------------------------+-------------------------+
|{domainId}                |String                   |ID for the domain.       |
+--------------------------+-------------------------+-------------------------+


This table shows the body parameters for the request:

+--------------------------+-------------------------+-------------------------+
|Name                      |Type                     |Description              |
+==========================+=========================+=========================+
|**id**                    |String                   |For modifying multiple   |
|                          |                         |domains, the id for each |
|                          |                         |domain must be specified |
|                          |                         |as an attribute. Note    |
|                          |                         |that for modifying a     |
|                          |                         |single domain, the id is |
|                          |                         |a required parameter at  |
|                          |                         |the end of the API call  |
|                          |                         |URI.                     |
+--------------------------+-------------------------+-------------------------+
|**emailAddress**          |String *(Optional)*      |Email address to use for |
|                          |                         |contacting the domain    |
|                          |                         |administrator.           |
+--------------------------+-------------------------+-------------------------+
|**ttl**                   |String *(Optional)*      |If specified, must be    |
|                          |                         |greater than or equal to |
|                          |                         |300.                     |
+--------------------------+-------------------------+-------------------------+
|**comment**               |String *(Optional)*      |If included, its length  |
|                          |                         |must be less than or     |
|                          |                         |equal to 160 characters. |
+--------------------------+-------------------------+-------------------------+


**Example Update domain: XML request**


.. code::

   PUT https://dns.api.rackspacecloud.com/v1.0/1234/domains/2725233
   Accept: application/xml
   X-Auth-Token: ea85e6ac-baff-4a6c-bf43-848020ea3812
   Content-Type: application/xml
   Content-Length: 309

   <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
   <domain ttl="3600" emailAddress="sample@rackspace.com" comment="Optional domain comment..." xmlns:ns2="http://www.w3.org/2005/Atom" xmlns="http://docs.rackspacecloud.com/dns/api/v1.0" xmlns:ns3="http://docs.rackspacecloud.com/dns/api/management/v1.0"/>


**Example Update domain: JSON request**


.. code::

   PUT https://dns.api.rackspacecloud.com/v1.0/1234/domains/2725233
   Accept: application/json
   X-Auth-Token: ea85e6ac-baff-4a6c-bf43-848020ea3812
   Content-Type: application/json
   Content-Length: 105

   {
     "comment" : "Optional domain comment...",
     "ttl" : 3600,
     "emailAddress" : "sample@rackspace.com"
   }

Response
--------

This operation does not return a response body.


